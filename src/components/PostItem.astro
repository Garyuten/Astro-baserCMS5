---
import { myUtils } from '@lib/utils.ts';

const basePath = myUtils.basePath;
const formatDate = myUtils.formatDate

interface Props {
	blogPath: string;
	blogCategories: any;
	post: any;
}

const defaultProps: Props = {
	blogPath: '',
	blogCategories: [],
	post: {},
}

const { blogPath, blogCategories, post } = Astro.props;

---

<li class="bs-top-post__item">
	<!-- <div class="debug">{JSON.stringify(post)}</div> -->
	<a href={`${basePath}${blogPath}/${post.id}`} class="bs-top-post__item-eye-catch">
	<img
		src={`/bc_front/${post._eyecatch}`}
		alt="" width="150" class="img-eye-catch"
	/>
	</a>
	<span class="bs-top-post__item-date">
	{
	post.posted ? formatDate(post.posted) : formatDate(post.created)
	}
	</span>
	{post.blog_category_id && blogCategories[post.blog_category_id] &&
		<a
		href={`${basePath}${blogPath}/archives/category/${blogCategories[post.blog_category_id].name}`}
		class="bs-top-post__item-category"
		>
		{blogCategories[post.blog_category_id].title}
		</a>
	}
	<a href={`${basePath}${blogPath}/${post.id}`} class="bs-top-post__item-title">
	{post.title}
	</a>
	<!-- ToDo: HTMLタグを除去して表示する --> 
	<div class="bs-top-post__item-detail" set:html={post.content} />
</li>


<style>
	.link-card {
		list-style: none;
		display: flex;
		padding: 1px;
		background-color: #23262d;
		background-image: none;
		background-size: 400%;
		border-radius: 7px;
		background-position: 100%;
		transition: background-position 0.6s cubic-bezier(0.22, 1, 0.36, 1);
		box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);
	}
	.link-card > a {
		width: 100%;
		text-decoration: none;
		line-height: 1.4;
		padding: calc(1.5rem - 1px);
		border-radius: 8px;
		color: white;
		background-color: #23262d;
		opacity: 0.8;
	}
	h2 {
		margin: 0;
		font-size: 1.25rem;
		transition: color 0.6s cubic-bezier(0.22, 1, 0.36, 1);
	}
	p {
		margin-top: 0.5rem;
		margin-bottom: 0;
	}
	.link-card:is(:hover, :focus-within) {
		background-position: 0;
		background-image: var(--accent-gradient);
	}
	.link-card:is(:hover, :focus-within) h2 {
		color: rgb(var(--accent-light));
	}
</style>
