---
import GlobalNav from "../layouts/GlobalNav.astro";
import { myContents } from "../lib/api";
import { capitalize } from "../lib/utils.js";

const basePath = import.meta.env.BASE_URL;
// console.log("basePath:" + basePath);

interface Props {
  title: string;
}
const { title } = Astro.props;



let home = false;
let pathname = Astro.url.pathname;
if (pathname === "/" || pathname === "/index") {
  home = true;
}

let { slug } = Astro.params;
// console.log("slug:" + slug);
// console.log(Astro.request.url);
console.log(Astro.url.pathname);

let bodyClass = "Default";
// myContentsã®ä¸­ã‹ã‚‰slugã¨ä¸€è‡´ã™ã‚‹ã‚‚ã®ã‚’æ¢ã™
for (let i = 0; i < myContents.length; i++) {
  if (myContents[i].url === pathname) {
    // console.log(myContents[i]);
    // ãƒ–ãƒ­ã‚°ã®å ´åˆã¯bodyClassã‚’BcBlogã«ã™ã‚‹
    if (myContents[i].plugin == "BcBlog" || myContents[i].name == "index") {
      // é ­1æ–‡å­—ç›®ã‚’å¤§æ–‡å­—ã«ã™ã‚‹
      bodyClass = capitalize(myContents[i].name);
      break;
    }
  }
}
// console.log("bodyClass:" + bodyClass);

const faviconDict: Record<string, string> = {
    development: "ğŸš§",
    staging: "ğŸš¨",
    production: "ğŸ¥³",
};

const faviconChar = faviconDict[import.meta.env.MODE];
const faviconHref = `data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${faviconChar}</text></svg>`;


---

<!doctype html>
<html lang="jp">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0"/>
    <title>{title}</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <link rel="icon" href={faviconHref} />
    <!-- URLã®ãƒ‘ã‚¹ã®å…ˆé ­ã«ã€ astro.config.js ã® base ã‚’ä»˜ã‘ãŸã„ -->
    <link rel="stylesheet" href={`${basePath}/bc_front/css/style.css`} />
    <link rel="stylesheet" href={`${basePath}/bc_front/css/jquery-ui/jquery-ui-1.11.4.css`} />
    <link rel="stylesheet" href={`${basePath}/bc_front/css/colorbox/colorbox-1.6.1.css`} />
    <link rel="stylesheet" href={`${basePath}/bc_front/css/editor.css`} />

    <script is:inline src={`${basePath}/bc_front/js/vendor/jquery-1.11.3.min.js`}></script>
    <script is:inline src={`${basePath}/bc_front/js/vendor/jquery-ui-1.11.4.min.js`}></script>
    <script is:inline src={`${basePath}/bc_front/js/vendor/jquery.bxslider-4.12.min.js`}></script>
    <script is:inline src={`${basePath}/bc_front/js/vendor/jquery.colorbox-1.6.1.min.js`}></script>
    <script is:inline src={`${basePath}/bc_front/js/vendor/i18n/ui.datepicker-ja.js`}></script>
    <script is:inline src={`${basePath}/bc_front/js/vendor/jquery-accessibleMegaMenu.js`}></script>
    <script is:inline src={`${basePath}/bc_front/js/startup.bundle.js`}></script>
  </head>
  <body id={bodyClass}>
    <div class="bs-container">
      <header class="bs-header">
        <div class="bs-header__inner">
          <a href={`${basePath}/`} title="baserCMS"><img
              src={`${basePath}/img/logo.png`}
              class="bs-header__logo"
              alt="baserCMS" /></a>
        </div>

        <div class="bs-header__menu-button" id="BsMenuBtn">
          <span></span>
          <span></span>
          <span></span>
        </div>

        <GlobalNav />
      </header>
      {
        // ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®ã¿ã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼ã‚’è¡¨ç¤º
        home && (
          <ul id="MainImage" class="bs-main-image">
            <li>
              <a href={`${basePath}/`} title="ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ãƒˆã‚µã‚¤ãƒˆã«ã¡ã‚‡ã†ã©ã„ã„å›½ç”£CMS">
                <img
                  src={`${basePath}/img/main_image_1.jpg`}
                  alt="ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ãƒˆã‚µã‚¤ãƒˆã«ã¡ã‚‡ã†ã©ã„ã„å›½ç”£CMS"
                  width="100%"
                />
              </a>
            </li>
            <li>
              <a
                href={`${basePath}/`}
                title="å…¨ã¦æ—¥æœ¬èªã®å›½ç”£CMSã ã‹ã‚‰ã€è¨­ç½®ã‚‚æ›´æ–°ã‚‚ç°¡å˜ã€ã‚ã‹ã‚Šã‚„ã™ã„ã€‚"
              >
                <img
                  src={`${basePath}/img/main_image_2.jpg`}
                  alt="å…¨ã¦æ—¥æœ¬èªã®å›½ç”£CMSã ã‹ã‚‰ã€è¨­ç½®ã‚‚æ›´æ–°ã‚‚ç°¡å˜ã€ã‚ã‹ã‚Šã‚„ã™ã„ã€‚"
                  width="100%"
                />
              </a>
            </li>
            <li>
              <a href={`${basePath}/`} title="æ¨™æº–çš„ãªWebã‚µã‚¤ãƒˆã«å¿…è¦ãªåŸºæœ¬æ©Ÿèƒ½ã‚’å…¨ã¦è£…å‚™">
                <img
                  src={`${basePath}/img/main_image_3.jpg`}
                  alt="æ¨™æº–çš„ãªWebã‚µã‚¤ãƒˆã«å¿…è¦ãªåŸºæœ¬æ©Ÿèƒ½ã‚’å…¨ã¦è£…å‚™"
                  width="100%"
                />
              </a>
            </li>
            <li>
              <a href={`${basePath}/`} title="ãƒ‡ã‚¶ã‚¤ãƒ³ã‚‚è‡ªç”±è‡ªåœ¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ï¼">
                <img
                  src={`${basePath}/img/main_image_4.jpg`}
                  alt="ãƒ‡ã‚¶ã‚¤ãƒ³ã‚‚è‡ªç”±è‡ªåœ¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ï¼"
                  width="100%"
                />
              </a>
            </li>
            <li>
              <a href={`${basePath}/`} title="è³ªå•ãƒ»ã”ç›¸è«‡ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚ºãƒ•ã‚©ãƒ¼ãƒ©ãƒ ã¸">
                <img
                  src={`${basePath}/img/main_image_5.jpg`}
                  alt="è³ªå•ãƒ»ã”ç›¸è«‡ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚ºãƒ•ã‚©ãƒ¼ãƒ©ãƒ ã¸"
                  width="100%"
                />
              </a>
            </li>
          </ul>
        )
      }
      <div class="bs-wrap">
        <main class="bs-main-contents">
          <!-- astro ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
          <slot />
        </main>

        <section class="bs-sub-contents">
          <!-- /Elements/widget_area.php -->

          <div class="bs-widget-area bs-widget-area-1">
            <div class="bs-widget bs-widget-search-box bs-widget-search-box-3">
              <h2 class="bs-widget-head">ã‚µã‚¤ãƒˆå†…æ¤œç´¢</h2>
              <div class="bs-widget-form">
                <form
                  method="get"
                  accept-charset="utf-8"
                  novalidate="novalidate"
                  action={`${basePath}/bc-search-index/search_indexes/search`}
                >
                  <label for="f">ã‚«ãƒ†ã‚´ãƒª</label><br />
                  <span class=""
                    ><select name="f" id="f"
                      ><option value="">æŒ‡å®šã—ãªã„</option><option value="6"
                        >ã‚µãƒ¼ãƒ“ã‚¹</option
                      ></select
                    ></span
                  >
                  <br />
                  <span class=""
                    ><input
                      type="text"
                      name="q"
                      placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰"
                      id="q"
                      aria-label="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰"
                    /></span
                  >
                  <input type="hidden" name="s" id="s" value="1" />
                  <input type="submit" class="bs-button-small" value="æ¤œç´¢" />
                </form>
              </div>
            </div>

            <div class="bs-widget bs-widget-text bs-widget-text-4">
              <h2 class="bs-widget-head">ãƒªãƒ³ã‚¯</h2>
              <ul>
                <li>
                  <a href="https://basercms.net" target="_blank"
                    >baserCMSã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«</a
                  >
                </li>
              </ul><p>
                <small
                  >ã“ã®éƒ¨åˆ†ã¯ã€ç®¡ç†ç”»é¢ã® [è¨­å®š] â†’ [ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£] â†’
                  [ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚¨ãƒªã‚¢] â†’ [æ¨™æº–ã‚µã‚¤ãƒ‰ãƒãƒ¼] ã‚ˆã‚Šç·¨é›†ã§ãã¾ã™ã€‚</small
                >
              </p>
            </div>
          </div>
        </section>
      </div>

      <!-- /Elements/footer.php -->

      <footer class="bs-footer">
        <p class="bs-footer__copyright">
          Copyright(C) 2008 - 2023 Theme Sample All rights Reserved.
          <span class="bs-footer__banner">
            <a
              href="https://basercms.net/"
              target="_blank"
              class="bs-footer__banner-link"
              ><img src={`${basePath}/img/baser.power.gif`}  alt="baserCMS : Based Website Development Project"
              /></a>&nbsp;
            <a href="https://cakephp.org/" target="_blank" class="bs-footer__banner-link"><img src={`${basePath}/img/cake.power.gif`}
                alt="CakePHP(tm) : Rapid Development Framework"
              /></a
            >
          </span>
        </p>
      </footer>
    </div>
  </body>

  <style is:global>
    :root {
      --accent: 136, 58, 234;
      --accent-light: 224, 204, 250;
      --accent-dark: 49, 10, 101;
      --accent-gradient: linear-gradient(
        45deg,
        rgb(var(--accent)),
        rgb(var(--accent-light)) 30%,
        white 60%
      );
    }
    html {
      font-family: system-ui, sans-serif;
      background: #fff;
      background-size: 224px;
    }
    code {
      font-family:
        Menlo,
        Monaco,
        Lucida Console,
        Liberation Mono,
        DejaVu Sans Mono,
        Bitstream Vera Sans Mono,
        Courier New,
        monospace;
    }
  </style>
</html>
